parameters:
  container.dumper.inline_factories: true

services:
  _defaults:
    autowire: true
    autoconfigure: true
  Redis:
    class: Redis
    calls:
      - connect:
          - '%env(REDIS_HOST)%'
          - '%env(int:REDIS_PORT)%'
  App\:
    resource: '../src/'
    exclude:
      - '../src/DependencyInjection/'
      - '../src/Entity/'
      - '../src/Kernel.php'
      - '../src/Tests/'
  App\ValueResolver\CartItemTypeResolver:
    tags:
      - controller.argument_value_resolver:
          name: cart_item_type
          priority: 150

  Symfony\Component\HttpFoundation\Session\Storage\Handler\RedisSessionHandler:
    arguments:
      - '@Redis'
  League\Bundle\OAuth2ServerBundle\Entity\AccessToken:
    class: App\Entity\AccessToken
  League\OAuth2\Server\Repositories\AccessTokenRepositoryInterface:
    class: App\Repository\AccessTokenRepository
    decorates: 'League\Bundle\OAuth2ServerBundle\Repository\AccessTokenRepository'
  App\EventListener\OrderConfirmedListener:
    arguments:
      $fromEmail: '%env(MAILER_FROM)%'
{% extends 'logged.html.twig' %}

{% block title %}gRPC SignUp{% endblock %}

{% block body %}

    {{ form(form) }}
    <div class="row">
        <div class="col-md-8">
            {% if grpc_credentials is not empty %}
                psst! You can use credentials from account that was created in previous steps.<br/>
                use:<br/>
                {{ grpc_credentials['username'] }}<br/>
                {{ grpc_credentials['password'] }}<br/>
                {% if not grpc_credentials['verified'] %}
                    but this user is still not verified!<br/>
                    Please visit
                    <a href="{{ path("grpc_user_verify") }}"
                       class="link-info link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">
                        Verify Account page</a><br/>
                    and use code: <p class="text-primary">{{ grpc_credentials['vCode'] }}</p>
                {% endif %}
            {% endif %}
            {% if grpc_status is not empty %}
                RPC call status
                <table class="table table-bordered">
                    <thead>
                    </thead>
                    <tbody>

                    <tr>
                        <td>status code</td>
                        <td id="access_token" style="word-wrap: break-word;min-width: 160px;max-width: 160px;"
                            class="p-2">{{ grpc_status.code }}</td>
                    </tr>
                    <tr>
                        <td>status details</td>
                        <td id="access_token" style="word-wrap: break-word;min-width: 160px;max-width: 160px;"
                            class="p-2">{{ grpc_status.details }}</td>
                    </tr>

                    </tbody>
                </table>
            {% endif %}

            {% if grpc_response is not empty %}
                RPC response
                <table class="table table-bordered">
                    <tbody>
                    <tr>
                        <td>user id</td>
                        <td id="access_token" style="word-wrap: break-word;min-width: 160px;max-width: 160px;"
                            class="p-2">{{ grpc_response.getStatus() }}</td>
                    </tr>
                    <tr>
                        <td>Access token</td>
                        <td id="access_token" style="word-wrap: break-word;min-width: 160px;max-width: 160px;"
                            class="p-2">{{ grpc_response.getAccessToken() }}</td>
                    </tr>
                    <tr>
                        <td>Refresh token</td>
                        <td id="access_token" style="word-wrap: break-word;min-width: 160px;max-width: 160px;"
                            class="p-2">{{ grpc_response.getRefreshToken() }}</td>
                    </tr>
                    </tbody>
                </table>
            {% endif %}

        </div>
    </div>
{% endblock %}